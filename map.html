<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B·∫£n ƒê·ªì Vi·ªác L√†m - Tuy·ªÉn d·ª•ng</title>
  <link rel="stylesheet" href="./style/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    .map-section {
      padding: 60px 0;
      background: #f8f9fa;
    }

    .map-section h2 {
      text-align: center;
      margin-bottom: 40px;
      font-size: 2.5rem;
      color: #333;
    }

    .map-container {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 30px;
      height: 600px;
      margin-bottom: 40px;
    }

    #jobMap {
      height: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .job-list-sidebar {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      overflow-y: auto;
    }

    .job-list-sidebar h3 {
      color: #2563eb;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e2e8f0;
    }

    .location-job-item {
      padding: 15px;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .location-job-item:hover {
      border-color: #2563eb;
      transform: translateX(5px);
    }

    .location-job-item.active {
      border-color: #2563eb;
      background: #f0f7ff;
    }

    .location-name {
      font-weight: 600;
      color: #2563eb;
      margin-bottom: 5px;
    }

    .job-count {
      color: #059669;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .job-list {
      margin-top: 10px;
    }

    .mini-job-item {
      padding: 8px;
      background: #f8fafc;
      border-radius: 4px;
      margin-bottom: 5px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .mini-job-item:hover {
      background: #e2e8f0;
      transform: translateX(3px);
    }

    .job-type-badge {
      display: inline-block;
      padding: 2px 8px;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 600;
      margin-left: 5px;
    }

    .part-time-badge {
      background: #dbeafe;
      color: #1e40af;
    }

    .full-time-badge {
      background: #dcfce7;
      color: #166534;
    }

    .map-controls {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .control-btn {
      background: white;
      border: 2px solid #e2e8f0;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .control-btn:hover {
      border-color: #2563eb;
      color: #2563eb;
    }

    .control-btn.active {
      background: #2563eb;
      color: white;
      border-color: #2563eb;
    }

    .location-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 40px;
    }

    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .stat-card h4 {
      color: #2563eb;
      margin-bottom: 10px;
    }

    .stat-number {
      font-size: 2rem;
      font-weight: 700;
      color: #059669;
    }

    .student-friendly-tag {
      display: inline-block;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      padding: 3px 10px;
      border-radius: 15px;
      font-size: 0.7rem;
      font-weight: 600;
      margin-left: 8px;
    }

    @media (max-width: 768px) {
      .map-container {
        grid-template-columns: 1fr;
        height: 400px;
      }

      .map-controls {
        justify-content: center;
      }

      .location-stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="container">
      <div class="logo"><a href="index.html" style="text-decoration: none; color: inherit;">Nh·∫≠t H√†o</a></div>
      <nav class="nav">
        <a href="index.html">Trang ch·ªß</a>
        <a href="work.html">Vi·ªác l√†m</a>
        <a href="cv.html">CV</a>
        <a href="map.html" class="active">Map</a>
        <a href="account.html">ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p</a>
        <div class="dropdown">
          <a href="#" class="dropdown-toggle">Li√™n h·ªá</a>
          <div class="dropdown-menu" id="contactDropdown">
            <a href="https://zalo.me/0788984741" class="dropdown-item" target="_blank">
              <span class="zalo-icon">Z</span>
              Zalo: 0788984741
            </a>
            <a href="https://facebook.com/share/17PfiN1Xrk/" class="dropdown-item" target="_blank">
              <span class="facebook-icon">f</span>
              Facebook: Nh∆∞ √ù
            </a>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <!-- MAP SECTION -->
  <section class="map-section">
    <div class="container">
      <h2>B·∫£n ƒê·ªì Vi·ªác L√†m Part-time Cho Sinh Vi√™n</h2>
      
      <div class="map-controls">
        <button class="control-btn active" data-type="all">T·∫•t c·∫£</button>
        <button class="control-btn" data-type="part-time">Part-time</button>
        <button class="control-btn" data-type="gia s∆∞">Gia s∆∞</button>
        <button class="control-btn" data-type="pha ch·∫ø">Pha ch·∫ø</button>
        <button class="control-btn" data-type="b√°n h√†ng">B√°n h√†ng</button>
        <button class="control-btn" data-type="online">Online</button>
      </div>

      <div class="map-container">
        <div id="jobMap"></div>
        
        <div class="job-list-sidebar">
          <h3>Vi·ªác l√†m theo khu v·ª±c</h3>
          <div id="locationJobs">
            <!-- Location items will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <div class="location-stats">
        <div class="stat-card">
          <h4>An Giang</h4>
          <div class="stat-number">15</div>
          <p>c√¥ng vi·ªác part-time</p>
        </div>
        <div class="stat-card">
          <h4>H√† N·ªôi</h4>
          <div class="stat-number">28</div>
          <p>c√¥ng vi·ªác part-time</p>
        </div>
        <div class="stat-card">
          <h4>TP HCM</h4>
          <div class="stat-number">32</div>
          <p>c√¥ng vi·ªác part-time</p>
        </div>
        <div class="stat-card">
          <h4>ƒê√† N·∫µng</h4>
          <div class="stat-number">18</div>
          <p>c√¥ng vi·ªác part-time</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <p>&copy; Nh·∫≠t H√†o 2025.</p>
      <div class="socials">
        <a href="https://facebook.com/share/17PfiN1Xrk/" target="_blank">Facebook</a>
        <a href="https://zalo.me/0788984741" target="_blank">Zalo</a>
        <a href="mailto:vothinhuyqtm3k14@gmail.com">Email</a>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    // Sample job data with coordinates - Part-time jobs for students
    const jobLocations = [
      {
        id: 1,
        name: "An Giang",
        lat: 10.5,
        lng: 105.1667,
        jobs: [
          { 
            title: "C√† ph√™ kh·ªèe", 
            type: "Part-time", 
            salary: "22K/H",
            category: "pha ch·∫ø",
            description: "Pha ch·∫ø cafe, ph·ª•c v·ª• kh√°ch h√†ng",
            requirements: "Nhanh nh·∫πn, giao ti·∫øp t·ªët"
          },
          { 
            title: "Gia s∆∞ To√°n-L√Ω-H√≥a", 
            type: "Part-time", 
            salary: "150k/Bu·ªïi",
            category: "gia s∆∞",
            description: "D·∫°y k√®m h·ªçc sinh c·∫•p 2, c·∫•p 3",
            requirements: "Ki·∫øn th·ª©c chuy√™n m√¥n t·ªët"
          },
          { 
            title: "Ph√°t t·ªù r∆°i", 
            type: "Part-time", 
            salary: "50k-100k/Bu·ªïi",
            category: "b√°n h√†ng",
            description: "Ph√°t t·ªù r∆°i qu·∫£ng c√°o",
            requirements: "ChƒÉm ch·ªâ, nhi·ªát t√¨nh"
          },
          { 
            title: "B√°n h√†ng online", 
            type: "Part-time", 
            salary: "15-20k/H + Hoa h·ªìng",
            category: "online",
            description: "B√°n h√†ng qua Facebook, Zalo",
            requirements: "Th√†nh th·∫°o MXH, giao ti·∫øp t·ªët"
          },
          { 
            title: "Nh√¢n vi√™n c·ª≠a h√†ng ti·ªán l·ª£i", 
            type: "Part-time", 
            salary: "18K/H",
            category: "b√°n h√†ng",
            description: "Thu ng√¢n, x·∫øp h√†ng h√≥a",
            requirements: "Trung th·ª±c, c·∫©n th·∫≠n"
          }
        ]
      },
      {
        id: 2,
        name: "H√† N·ªôi",
        lat: 21.0285,
        lng: 105.8542,
        jobs: [
          { 
            title: "Gia s∆∞ Ti·∫øng Anh", 
            type: "Part-time", 
            salary: "200k/Bu·ªïi",
            category: "gia s∆∞",
            description: "D·∫°y ti·∫øng Anh giao ti·∫øp",
            requirements: "IELTS 6.5+, ph√°t √¢m chu·∫©n"
          },
          { 
            title: "Nh√¢n vi√™n Starbuks", 
            type: "Part-time", 
            salary: "25K/H",
            category: "pha ch·∫ø",
            description: "Pha ch·∫ø ƒë·ªì u·ªëng, ph·ª•c v·ª•",
            requirements: "Ngo·∫°i h√¨nh ∆∞a nh√¨n"
          },
          { 
            title: "CTV Content", 
            type: "Part-time", 
            salary: "50-100k/B√†i",
            category: "online",
            description: "Vi·∫øt b√†i chu·∫©n SEO",
            requirements: "K·ªπ nƒÉng vi·∫øt t·ªët"
          },
          { 
            title: "PG/PT s·ª± ki·ªán", 
            type: "Part-time", 
            salary: "300-500k/Bu·ªïi",
            category: "b√°n h√†ng",
            description: "Ti·∫øp th·ªã t·∫°i c√°c s·ª± ki·ªán",
            requirements: "T·ª± tin, giao ti·∫øp t·ªët"
          },
          { 
            title: "Nh√¢n vi√™n b√°n s√°ch", 
            type: "Part-time", 
            salary: "20K/H",
            category: "b√°n h√†ng",
            description: "T∆∞ v·∫•n, b√°n s√°ch",
            requirements: "Y√™u s√°ch, nhi·ªát t√¨nh"
          }
        ]
      },
      {
        id: 3,
        name: "TP HCM",
        lat: 10.8231,
        lng: 106.6297,
        jobs: [
          { 
            title: "Gia s∆∞ Tin h·ªçc", 
            type: "Part-time", 
            salary: "180k/Bu·ªïi",
            category: "gia s∆∞",
            description: "D·∫°y Word, Excel, PowerPoint",
            requirements: "Th√†nh th·∫°o tin h·ªçc vƒÉn ph√≤ng"
          },
          { 
            title: "Nh√¢n vi√™n The Coffee House", 
            type: "Part-time", 
            salary: "23K/H",
            category: "pha ch·∫ø",
            description: "Pha ch·∫ø, ph·ª•c v·ª• kh√°ch",
            requirements: "Nhanh nh·∫πn, th√¢n thi·ªán"
          },
          { 
            title: "CTV thi·∫øt k·∫ø", 
            type: "Part-time", 
            salary: "100-200k/·∫¢nh",
            category: "online",
            description: "Thi·∫øt k·∫ø banner, ·∫£nh qu·∫£ng c√°o",
            requirements: "Bi·∫øt Photoshop, Canva"
          },
          { 
            title: "Nh√¢n vi√™n si√™u th·ªã", 
            type: "Part-time", 
            salary: "22K/H",
            category: "b√°n h√†ng",
            description: "X·∫øp h√†ng, h∆∞·ªõng d·∫´n kh√°ch",
            requirements: "ChƒÉm ch·ªâ, trung th·ª±c"
          },
          { 
            title: "Gia s∆∞ V·∫Ω", 
            type: "Part-time", 
            salary: "250k/Bu·ªïi",
            category: "gia s∆∞",
            description: "D·∫°y v·∫Ω cho tr·∫ª em",
            requirements: "C√≥ nƒÉng khi·∫øu h·ªôi h·ªça"
          }
        ]
      },
      {
        id: 4,
        name: "ƒê√† N·∫µng",
        lat: 16.0544,
        lng: 108.2022,
        jobs: [
          { 
            title: "Gia s∆∞ To√°n", 
            type: "Part-time", 
            salary: "120k/Bu·ªïi",
            category: "gia s∆∞",
            description: "D·∫°y k√®m To√°n c·∫•p 2, c·∫•p 3",
            requirements: "Ki·∫øn th·ª©c To√°n v·ªØng"
          },
          { 
            title: "Nh√¢n vi√™n Highlands", 
            type: "Part-time", 
            salary: "21K/H",
            category: "pha ch·∫ø",
            description: "Pha ch·∫ø tr√† s·ªØa, cafe",
            requirements: "C·∫©n th·∫≠n, t·ªâ m·ªâ"
          },
          { 
            title: "CTV d·ªãch thu·∫≠t", 
            type: "Part-time", 
            salary: "80-150k/Trang",
            category: "online",
            description: "D·ªãch t√†i li·ªáu Anh-Vi·ªát",
            requirements: "Ti·∫øng Anh t·ªët"
          },
          { 
            title: "Nh√¢n vi√™n b√°n qu·∫ßn √°o", 
            type: "Part-time", 
            salary: "18K/H + Hoa h·ªìng",
            category: "b√°n h√†ng",
            description: "T∆∞ v·∫•n b√°n h√†ng th·ªùi trang",
            requirements: "C√≥ gu th·ªùi trang"
          }
        ]
      }
    ];

    let map;
    let markers = [];

    // Initialize map
    function initMap() {
      // Create map centered on Vietnam
      map = L.map('jobMap').setView([16.0, 108.0], 6);

      // Add tile layer
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '¬© OpenStreetMap contributors'
      }).addTo(map);

      // Add markers for each location
      jobLocations.forEach(location => {
        const marker = L.marker([location.lat, location.lng])
          .addTo(map)
          .bindPopup(`
            <div style="min-width: 250px;">
              <h4 style="margin: 0 0 10px 0; color: #2563eb;">${location.name}</h4>
              <p><strong>${location.jobs.length} c√¥ng vi·ªác part-time</strong></p>
              ${location.jobs.map(job => `
                <div style="border-bottom: 1px solid #eee; padding: 8px 0;">
                  <div><strong>${job.title}</strong></div>
                  <div>üí∞ ${job.salary}</div>
                  <div>üìù ${job.description}</div>
                  <div style="font-size: 0.8rem; color: #666;">${job.requirements}</div>
                </div>
              `).join('')}
            </div>
          `);

        markers.push({
          marker: marker,
          location: location
        });
      });

      // Populate location list
      populateLocationList();
    }

    // Populate location list in sidebar
    function populateLocationList() {
      const container = document.getElementById('locationJobs');
      container.innerHTML = jobLocations.map(location => `
        <div class="location-job-item" data-location="${location.name}">
          <div class="location-name">${location.name}</div>
          <div class="job-count">${location.jobs.length} c√¥ng vi·ªác part-time</div>
          <div class="job-list">
            ${location.jobs.slice(0, 3).map(job => `
              <div class="mini-job-item" data-job='${JSON.stringify(job).replace(/'/g, "&#39;")}'>
                <strong>${job.title}</strong>
                <span class="job-type-badge ${job.type.toLowerCase().replace(' ', '-')}-badge">${job.type}</span>
                <span class="student-friendly-tag">Sinh vi√™n</span>
                <div style="font-size: 0.8rem; color: #666; margin-top: 3px;">
                  üí∞ ${job.salary}
                </div>
              </div>
            `).join('')}
            ${location.jobs.length > 3 ? `<div style="color: #666; font-size: 0.8rem; text-align: center; margin-top: 8px;">+${location.jobs.length - 3} c√¥ng vi·ªác kh√°c</div>` : ''}
          </div>
        </div>
      `).join('');

      // Add click event to location items
      document.querySelectorAll('.location-job-item').forEach(item => {
        item.addEventListener('click', function() {
          const locationName = this.getAttribute('data-location');
          const location = jobLocations.find(loc => loc.name === locationName);
          if (location) {
            map.setView([location.lat, location.lng], 10);
            
            // Open popup for the first marker in this location
            const marker = markers.find(m => m.location.name === locationName);
            if (marker) {
              marker.marker.openPopup();
            }
          }
        });
      });

      // Add click event to mini job items
      document.querySelectorAll('.mini-job-item').forEach(item => {
        item.addEventListener('click', function(e) {
          e.stopPropagation();
          const jobData = JSON.parse(this.getAttribute('data-job').replace(/&#39;/g, "'"));
          showJobDetails(jobData);
        });
      });
    }

    // Show job details in modal
    function showJobDetails(job) {
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
      `;
      
      modal.innerHTML = `
        <div style="background: white; padding: 30px; border-radius: 12px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3 style="margin: 0; color: #2563eb;">${job.title}</h3>
            <button onclick="this.parentElement.parentElement.parentElement.remove()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">&times;</button>
          </div>
          <div style="margin-bottom: 15px;">
            <strong>üí∞ M·ª©c l∆∞∆°ng:</strong> ${job.salary}
          </div>
          <div style="margin-bottom: 15px;">
            <strong>üìù M√¥ t·∫£ c√¥ng vi·ªác:</strong> ${job.description}
          </div>
          <div style="margin-bottom: 15px;">
            <strong>‚úÖ Y√™u c·∫ßu:</strong> ${job.requirements}
          </div>
          <div style="margin-bottom: 20px;">
            <span class="job-type-badge ${job.type.toLowerCase().replace(' ', '-')}-badge">${job.type}</span>
            <span class="student-friendly-tag">Ph√π h·ª£p sinh vi√™n</span>
          </div>
          <button style="background: linear-gradient(135deg, #2563eb, #1d4ed8); color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer; font-weight: 600; width: 100%;">
            ·ª®ng tuy·ªÉn ngay
          </button>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Close modal when clicking outside
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.remove();
        }
      });
    }

    // Filter controls
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize map
      initMap();

      // Dropdown functionality
      const dropdownToggle = document.querySelector('.dropdown-toggle');
      const dropdownMenu = document.getElementById('contactDropdown');

      dropdownToggle.addEventListener('click', function(e) {
        e.preventDefault();
        dropdownMenu.classList.toggle('show');
      });

      document.addEventListener('click', function(e) {
        if (!e.target.closest('.dropdown')) {
          dropdownMenu.classList.remove('show');
        }
      });

      // Map control buttons
      const controlBtns = document.querySelectorAll('.control-btn');
      controlBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const filterType = this.getAttribute('data-type');
          
          // Update active button
          controlBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          // Filter markers
          filterMarkers(filterType);
        });
      });

      // Add keyboard navigation
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          dropdownMenu.classList.remove('show');
        }
      });
    });

    // Filter markers based on type
    function filterMarkers(filterType) {
      if (filterType === 'all') {
        // Show all markers
        markers.forEach(({ marker }) => {
          map.addLayer(marker);
        });
      } else {
        // Hide all markers first
        markers.forEach(({ marker }) => {
          map.removeLayer(marker);
        });
        
        // Show only markers that match filter
        markers.forEach(({ marker, location }) => {
          const hasMatchingJob = location.jobs.some(job => 
            job.type.toLowerCase().includes(filterType) || 
            location.name.toLowerCase().includes(filterType) ||
            job.category.toLowerCase().includes(filterType) ||
            job.title.toLowerCase().includes(filterType)
          );
          
          if (hasMatchingJob) {
            map.addLayer(marker);
          }
        });
      }
    }
  </script>
</body>
</html>